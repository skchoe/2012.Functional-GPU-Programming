<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>hist_example: Y:/Rsh/Matlab/cuda/cuda_hist.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Y:/Rsh/Matlab/cuda/cuda_hist.h File Reference</h1>Contains definition of C functions for 1D and 2D histogram calculation implemented on the GPU. <a href="#_details">More...</a>
<p>

<p>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcuda_hist_options.html">cudaHistOptions</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The structure defines execution options and is used by histogram functions.  <a href="structcuda_hist_options.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__hist_8h.html#9f9e8095ebe5ba80e22cbd9ecdb4c447">cudaHista</a> (float *src, float *hist, int length, int bins, <a class="el" href="structcuda_hist_options.html">cudaHistOptions</a> *p_options=NULL, bool device=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates a 1D histogram based on the first method described in:<br>
 R. Shams and R. A. Kennedy, "Efficient histogram algorithms for NVIDIA CUDA compatible devices," Proc. Int. Conf. on Signal Processing and Communications Systems (ICSPCS), Gold Coast, Australia, Dec. 2007, pp. 418-422.  <a href="#9f9e8095ebe5ba80e22cbd9ecdb4c447"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__hist_8h.html#98e7c7092445754094336fce32d912d9">cudaHistb</a> (float *src, float *hist, int length, int bins, <a class="el" href="structcuda_hist_options.html">cudaHistOptions</a> *p_options=NULL, bool device=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates a 1D histogram based on the second method described in:<br>
 R. Shams and R. A. Kennedy, "Efficient histogram algorithms for NVIDIA CUDA compatible devices," Proc. Int. Conf. on Signal Processing and Communications Systems (ICSPCS), Gold Coast, Australia, Dec. 2007, pp. 418-422.  <a href="#98e7c7092445754094336fce32d912d9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__hist_8h.html#e5a8881e8b0f9acd5dc56f787f78e507">cudaHist_Approx</a> (float *src, float *hist, int length, int bins, <a class="el" href="structcuda_hist_options.html">cudaHistOptions</a> *p_options=NULL, bool device=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates a 1D histogram based on method described in:<br>
 R. Shams and N. Barnes, "Speeding up mutual information computation using NVIDIA CUDA hardware," Proc. Digital Image Computing: Techniques and Applications (DICTA), Adelaide, Australia, Dec. 2007, pp. 555-560.  <a href="#e5a8881e8b0f9acd5dc56f787f78e507"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__hist_8h.html#4b8f185cb4f550f41f747339bf37d5b9">cudaHist2Da</a> (float *src1, float *src2, float *hist, int length, int xbins, int ybins, <a class="el" href="structcuda_hist_options.html">cudaHistOptions</a> *p_options=NULL, bool device=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates a 2D (joint) histogram based on the first method described in:<br>
 R. Shams and R. A. Kennedy, "Efficient histogram algorithms for NVIDIA CUDA compatible devices," Proc. Int. Conf. on Signal Processing and Communications Systems (ICSPCS), Gold Coast, Australia, Dec. 2007, pp. 418-422.  <a href="#4b8f185cb4f550f41f747339bf37d5b9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__hist_8h.html#9e1764f8d59e9900477b2d802993a48e">cudaHist2Db</a> (float *src1, float *src2, float *hist, int length, int xbins, int ybins, <a class="el" href="structcuda_hist_options.html">cudaHistOptions</a> *p_options=NULL, bool device=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates a 2D (joint) histogram based on the second method described in:<br>
 R. Shams and R. A. Kennedy, "Efficient histogram algorithms for NVIDIA CUDA compatible devices," Proc. Int. Conf. on Signal Processing and Communications Systems (ICSPCS), Gold Coast, Australia, Dec. 2007, pp. 418-422.  <a href="#9e1764f8d59e9900477b2d802993a48e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__hist_8h.html#4bde884bc37f9c0418994d457df228db">cudaHist2D_Approx</a> (float *src1, float *src2, float *hist, int length, int xbins, int ybins, <a class="el" href="structcuda_hist_options.html">cudaHistOptions</a> *p_options=NULL, bool device=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates a 2D (joint) histogram based on the second method described in:<br>
 R. Shams and N. Barnes, "Speeding up mutual information computation using NVIDIA CUDA hardware," Proc. Digital Image Computing: Techniques and Applications (DICTA), Adelaide, Australia, Dec. 2007, pp. 555-560.  <a href="#4bde884bc37f9c0418994d457df228db"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Contains definition of C functions for 1D and 2D histogram calculation implemented on the GPU. 
<p>
<a class="el" href="cuda__hist_8h.html" title="Contains definition of C functions for 1D and 2D histogram calculation implemented...">cuda_hist.h</a> contains definition of C functions for 1D and 2D histogram calculation implemented on the GPU. The methods are based on the following two publications: <hr><h2>Function Documentation</h2>
<a class="anchor" name="4bde884bc37f9c0418994d457df228db"></a><!-- doxytag: member="cuda_hist.h::cudaHist2D_Approx" ref="4bde884bc37f9c0418994d457df228db" args="(float *src1, float *src2, float *hist, int length, int xbins, int ybins, cudaHistOptions *p_options=NULL, bool device=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cudaHist2D_Approx           </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>src1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>src2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>hist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>xbins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ybins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcuda_hist_options.html">cudaHistOptions</a> *&nbsp;</td>
          <td class="paramname"> <em>p_options</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>device</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculates a 2D (joint) histogram based on the second method described in:<br>
 R. Shams and N. Barnes, "Speeding up mutual information computation using NVIDIA CUDA hardware," Proc. Digital Image Computing: Techniques and Applications (DICTA), Adelaide, Australia, Dec. 2007, pp. 555-560. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>src1</em>&nbsp;</td><td>Pointer to the input array where the data is stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>src2</em>&nbsp;</td><td>Pointer to the input array where the data is stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hist</em>&nbsp;</td><td>Pointer to the output array where the computed histogram is to be stored. Output array must be allocated and freed by the caller. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>Number of the input array's elements. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bins</em>&nbsp;</td><td>Number of the histogram bins or output array's elements. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_options</em>&nbsp;</td><td>A structure which defines the execution configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>A flag which indicates whether input/output arrays are allocated on the host (CPU) memory or the device (GPU) memory.</td></tr>
  </table>
</dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>Integrating the 2D histrogram along the x-axis gives the 1D histogram of <em>src1</em> and along the y-axis gives the 1D histogram of <em>src2</em>. <p>
When the function is being called inside a loop or multiple times, for best performance allocate the input and ouput arrays on device memory to avoid unnecessary allocation, memory transfers and deallocation by the function. <p>
When <em>device</em> flag is set, the caller needs to allocate memory for <em>hist</em> but does not need to initialize the array. The initialization will be done by the function itself. <p>
Input data must be normalized between 0 and 1. The behavior of the function for values outside this range is undefined and is most likely to cause memory corruption.</dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The execution time in milliseconds excluding any time spent in allocating input data from host to global memory and storing the results back to the host memory. The time spent in creating and initializing any internal objects is considered.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="cuda__hist_8h.html#e5a8881e8b0f9acd5dc56f787f78e507" title="Calculates a 1D histogram based on method described in:  R. Shams and N. Barnes,...">cudaHist_Approx</a></dd></dl>
As the name suggestes an approximation to the histogram is calculated by this function. The ratio of the histogram bins are approximated by the method not the actual number of elements in each bin. As such, the method is an approximation of the probability mass function (pmf) of the input data. If you are interested in the exact histogram information you should use <em>cudaHist2Da</em> or <em>cudaHist2Db</em>. Refer to the paper for more information. 
</div>
</div><p>
<a class="anchor" name="4b8f185cb4f550f41f747339bf37d5b9"></a><!-- doxytag: member="cuda_hist.h::cudaHist2Da" ref="4b8f185cb4f550f41f747339bf37d5b9" args="(float *src1, float *src2, float *hist, int length, int xbins, int ybins, cudaHistOptions *p_options=NULL, bool device=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cudaHist2Da           </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>src1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>src2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>hist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>xbins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ybins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcuda_hist_options.html">cudaHistOptions</a> *&nbsp;</td>
          <td class="paramname"> <em>p_options</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>device</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculates a 2D (joint) histogram based on the first method described in:<br>
 R. Shams and R. A. Kennedy, "Efficient histogram algorithms for NVIDIA CUDA compatible devices," Proc. Int. Conf. on Signal Processing and Communications Systems (ICSPCS), Gold Coast, Australia, Dec. 2007, pp. 418-422. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>src1</em>&nbsp;</td><td>Pointer to the input array where the data is stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>src2</em>&nbsp;</td><td>Pointer to the input array where the data is stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hist</em>&nbsp;</td><td>Pointer to the output array where the computed histogram is to be stored. Output array must be allocated and freed by the caller. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>Number of the input array's elements. Both input arrays must have the same length. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>xbins</em>&nbsp;</td><td>Number of the histogram bins along the x-axis of the 2D histogram. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ybins</em>&nbsp;</td><td>Number of the histogram bins along the y-axis of the 2D histogram. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_options</em>&nbsp;</td><td>A structure which defines the execution configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>A flag which indicates whether input/output arrays are allocated on the host (CPU) memory or the device (GPU) memory.</td></tr>
  </table>
</dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>Integrating the 2D histrogram along the x-axis gives the 1D histogram of <em>src1</em> and along the y-axis gives the 1D histogram of <em>src2</em>. <p>
Size of <em>hist</em>, allocated by the caller, must be sizeof(float)*xbins*ybins. <p>
When the function is being called inside a loop or multiple times, for best performance allocate the input and output arrays on device memory to avoid unnecessary allocation, memory transfers and deallocation by the function. <p>
When <em>device</em> flag is set, the caller needs to allocate memory for <em>hist</em> but does not need to initialize the array. The initialization will be done by the function itself.</dd></dl>
C wrapper function that calculates a 2D histogram with any number of bins based on <em>cudaHista</em>.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="cuda__hist_8h.html#9f9e8095ebe5ba80e22cbd9ecdb4c447" title="Calculates a 1D histogram based on the first method described in:  R. Shams and R...">cudaHista</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="9e1764f8d59e9900477b2d802993a48e"></a><!-- doxytag: member="cuda_hist.h::cudaHist2Db" ref="9e1764f8d59e9900477b2d802993a48e" args="(float *src1, float *src2, float *hist, int length, int xbins, int ybins, cudaHistOptions *p_options=NULL, bool device=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cudaHist2Db           </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>src1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>src2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>hist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>xbins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ybins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcuda_hist_options.html">cudaHistOptions</a> *&nbsp;</td>
          <td class="paramname"> <em>p_options</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>device</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculates a 2D (joint) histogram based on the second method described in:<br>
 R. Shams and R. A. Kennedy, "Efficient histogram algorithms for NVIDIA CUDA compatible devices," Proc. Int. Conf. on Signal Processing and Communications Systems (ICSPCS), Gold Coast, Australia, Dec. 2007, pp. 418-422. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>src1</em>&nbsp;</td><td>Pointer to the input array where the data is stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>src2</em>&nbsp;</td><td>Pointer to the input array where the data is stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hist</em>&nbsp;</td><td>Pointer to the output array where the computed histogram is to be stored. Output array must be allocated and freed by the caller. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>Number of the input array's elements. Both input arrays must have the same length. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>xbins</em>&nbsp;</td><td>Number of the histogram bins along the x-axis of the 2D histogram. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ybins</em>&nbsp;</td><td>Number of the histogram bins along the y-axis of the 2D histogram. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_options</em>&nbsp;</td><td>A structure which defines the execution configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>A flag which indicates whether input/output arrays are allocated on the host (CPU) memory or the device (GPU) memory.</td></tr>
  </table>
</dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>Integrating the 2D histrogram along the x-axis gives the 1D histogram of <em>src1</em> and along the y-axis gives the 1D histogram of <em>src2</em>. <p>
Size of <em>hist</em>, allocated by the caller, must be sizeof(float)*xbins*ybins. <p>
When the function is being called inside a loop or multiple times, for best performance allocate the input and output arrays on device memory to avoid unnecessary allocation, memory transfers and deallocation by the function. <p>
When <em>device</em> flag is set, the caller needs to allocate memory for <em>hist</em> but does not need to initialize the array. The initialization will be done by the function itself. <p>
Input data must be normalized between 0 and 1. The behavior of the function for values outside this range is undefined and is most likely to cause memory corruption.</dd></dl>
C wrapper function that calculates a 2D histogram with any number of bins based on <em>cudaHistb</em>.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="cuda__hist_8h.html#98e7c7092445754094336fce32d912d9" title="Calculates a 1D histogram based on the second method described in:  R. Shams and...">cudaHistb</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="e5a8881e8b0f9acd5dc56f787f78e507"></a><!-- doxytag: member="cuda_hist.h::cudaHist_Approx" ref="e5a8881e8b0f9acd5dc56f787f78e507" args="(float *src, float *hist, int length, int bins, cudaHistOptions *p_options=NULL, bool device=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double cudaHist_Approx           </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>hist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcuda_hist_options.html">cudaHistOptions</a> *&nbsp;</td>
          <td class="paramname"> <em>p_options</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>device</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculates a 1D histogram based on method described in:<br>
 R. Shams and N. Barnes, "Speeding up mutual information computation using NVIDIA CUDA hardware," Proc. Digital Image Computing: Techniques and Applications (DICTA), Adelaide, Australia, Dec. 2007, pp. 555-560. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>Pointer to the input array where the data is stored. The input values must be between 0 and 1. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hist</em>&nbsp;</td><td>Pointer to the output array where the computed histogram is to be stored. Output array must be allocated and freed by the caller. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>Number of the input array's elements. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bins</em>&nbsp;</td><td>Number of the histogram bins or output array's elements. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_options</em>&nbsp;</td><td>A structure which defines the execution configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>A flag which indicates whether input/output arrays are allocated on the host (CPU) memory or the device (GPU) memory.</td></tr>
  </table>
</dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>When the function is being called inside a loop or multiple times, for best performance allocate the input and ouput arrays on device memory to avoid unnecessary allocation, memory transfers and deallocation by the function. <p>
When <em>device</em> flag is set, the caller needs to allocate memory for <em>hist</em> but does not need to initialize the array. The initialization will be done by the function itself. <p>
Input data must be normalized between 0 and 1. The behavior of the function for values outside this range is undefined and is most likely to cause memory corruption.</dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The execution time in milliseconds excluding any time spent in allocating input data from host to global memory and storing the results back to the host memory. The time spent in creating and initializing any internal objects is considered.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="cuda__hist_8h.html#9f9e8095ebe5ba80e22cbd9ecdb4c447" title="Calculates a 1D histogram based on the first method described in:  R. Shams and R...">cudaHista</a>, <a class="el" href="cuda__hist_8h.html#98e7c7092445754094336fce32d912d9" title="Calculates a 1D histogram based on the second method described in:  R. Shams and...">cudaHistb</a></dd></dl>
As the name suggestes an approximation to the histogram is calculated by this function. The ratio of the histogram bins are approximated by the method not the actual number of elements in each bin. As such, the method is an approximation of the probability mass function (pmf) of the input data. If you are interested in the exact histogram information you should use <em>cudaHista</em> or <em>cudaHistb</em>. Refer to the paper for more information. 
</div>
</div><p>
<a class="anchor" name="9f9e8095ebe5ba80e22cbd9ecdb4c447"></a><!-- doxytag: member="cuda_hist.h::cudaHista" ref="9f9e8095ebe5ba80e22cbd9ecdb4c447" args="(float *src, float *hist, int length, int bins, cudaHistOptions *p_options=NULL, bool device=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double cudaHista           </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>hist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcuda_hist_options.html">cudaHistOptions</a> *&nbsp;</td>
          <td class="paramname"> <em>p_options</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>device</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculates a 1D histogram based on the first method described in:<br>
 R. Shams and R. A. Kennedy, "Efficient histogram algorithms for NVIDIA CUDA compatible devices," Proc. Int. Conf. on Signal Processing and Communications Systems (ICSPCS), Gold Coast, Australia, Dec. 2007, pp. 418-422. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>Pointer to the input array where the data is stored. The input values must be between 0 and 1. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hist</em>&nbsp;</td><td>Pointer to the output array where the computed histogram is to be stored. Output array must be allocated and freed by the caller. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>Number of the input array's elements. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bins</em>&nbsp;</td><td>Number of the histogram bins or output array's elements. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_options</em>&nbsp;</td><td>A structure which defines the execution configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>A flag which indicates whether input/output arrays are allocated on the host (CPU) memory or the device (GPU) memory.</td></tr>
  </table>
</dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>When the function is being called inside a loop or multiple times, for best performance allocate the input and ouput arrays on device memory to avoid unnecessary allocation, memory transfers and deallocation by the function. <p>
When <em>device</em> flag is set, the caller needs to allocate memory for <em>hist</em> but does not need to initialize the array. The initialization will be done by the function itself. <p>
Input data must be normalized between 0 and 1. The behavior of the function for values outside this range is undefined and is most likely to cause memory corruption.</dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The execution time in milliseconds excluding any time spent in allocating input data from host to global memory and storing the results back to the host memory. The time spent in creating and initializing any internal objects is considered.</dd></dl>
C wrapper function that calculates a histogram with any number of bins using a method for synchronizing updates to histogram memory by simulating atomic operations in the GPU's shared memory. The function provides superior performance compared to <em>cudaHistb</em>, if the input data has a uniform or normal distribution and performs worse that <em>cudaHistb</em> if the distribution is degenerate (i.e. all elements or most of them are the same). Refer to the paper for more information. 
</div>
</div><p>
<a class="anchor" name="98e7c7092445754094336fce32d912d9"></a><!-- doxytag: member="cuda_hist.h::cudaHistb" ref="98e7c7092445754094336fce32d912d9" args="(float *src, float *hist, int length, int bins, cudaHistOptions *p_options=NULL, bool device=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double cudaHistb           </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>hist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcuda_hist_options.html">cudaHistOptions</a> *&nbsp;</td>
          <td class="paramname"> <em>p_options</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>device</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculates a 1D histogram based on the second method described in:<br>
 R. Shams and R. A. Kennedy, "Efficient histogram algorithms for NVIDIA CUDA compatible devices," Proc. Int. Conf. on Signal Processing and Communications Systems (ICSPCS), Gold Coast, Australia, Dec. 2007, pp. 418-422. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>Pointer to the input array where the data is stored. The input values must be between 0 and 1. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hist</em>&nbsp;</td><td>Pointer to the output array where the computed histogram is to be stored. Output array must be allocated and freed by the caller. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>Number of the input array's elements. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bins</em>&nbsp;</td><td>Number of the histogram bins or output array's elements. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_options</em>&nbsp;</td><td>A structure which defines the execution configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>A flag which indicates whether input/output arrays are allocated on the host (CPU) memory or the device (GPU) memory.</td></tr>
  </table>
</dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>When the function is being called inside a loop or multiple times, for best performance allocate the input and ouput arrays on device memory to avoid unnecessary allocation, memory transfers and deallocation by the function. <p>
When <em>device</em> flag is set, the caller needs to allocate memory for <em>hist</em> but does not need to initialize the array. The initialization will be done by the function itself. <p>
Input data must be normalized between 0 and 1. The behavior of the function for values outside this range is undefined and is most likely to cause memory corruption.</dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The execution time in milliseconds excluding any time spent in allocating input data from host to global memory and storing the results back to the host memory. The time spent in creating and initializing any internal objects is considered.</dd></dl>
C wrapper function that calculates a histogram with any number of bins using a method for separating updates to histogram memory into multiple partial histograms. The function has a lower performance compared to <em>cudaHista</em> unless the input data distribution is degenerate or close to degenerate (i.e. many inputs are the same or fall within the same bin). Refer to the paper for more information. 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu May 8 13:01:56 2008 for hist_example by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
