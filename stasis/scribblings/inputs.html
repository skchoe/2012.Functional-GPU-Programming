<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>Random generation of input program</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="racket.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" pltdoc="x">Random generation of input program</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><h2><a name="(part._input)"></a>Random generation of input program</h2><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktSym"><span class="badlink"><span class="RktValLink">st-exp</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/struct..rkt)._struct/c))" class="RktStxLink" pltdoc="x">struct/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">st-exp</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara"><span class="RktSym"><span class="badlink"><span class="RktValLink">st-exp</span></span></span> is a struct having two fields: <span class="RktSym">name</span>, <span class="RktSym">form</span>.
 <span class="RktSym">name</span> is a expression name of heap values: constant, boolean, lambda, cons.
 <span class="RktSym">form</span> is either simple symbol representing constant or boolean or cons of <span class="RktSym"><span class="badlink"><span class="RktValLink">st-exp</span></span></span> or domain and range of lambda which is of form <span class="RktPn">(</span><span class="RktSym">st-exp?</span><span class="stt"> </span><span class="RktSym">st-exp?</span><span class="RktPn">)</span>.</div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">random-but</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">N</span><span class="hspace">&nbsp;</span>[<span class="RktPn">#:except</span><span class="hspace">&nbsp;</span><span class="RktVar">l-except</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">N</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-except</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr></table></div><div class="SIntrapara">Outputs random number which are not a member of <span class="RktVar">l-except</span>.</div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">pick-rdm-elt-from-list</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">lst</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:except</span><span class="hspace">&nbsp;</span><span class="RktVar">l-except</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-except</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr></table></div><div class="SIntrapara">Outputs element from list <span class="RktVar">lst</span> by random selection except elments of indices in <span class="RktVar">l-except</span>.</div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">pick-rdm-elt-from-set</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">st</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">st</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/sets.html#(def._((lib._racket/set..rkt)._set~3f))" class="RktValLink" pltdoc="x">set?</a></span></td></tr></table></div><div class="SIntrapara">Outputs element from set <span class="RktVar">st</span> by random selection.</div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash-ref-rdm-exp-name</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">h2v</span><span class="hspace">&nbsp;</span><span class="RktVar">v2h</span><span class="hspace">&nbsp;</span><span class="RktVar">len</span><span class="hspace">&nbsp;</span><span class="RktVar">exp-alias</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">h2v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v2h</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">len</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exp-alias</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr></table></div><div class="SIntrapara"><span class="RktVar">h2v</span> is a hashtable which maps expression name to set of variables,
 <span class="RktVar">v2h</span> is a hashtable which maps varaible to expression name defined by let-binding,
 <span class="RktVar">len</span> is a list of any expression names or heap values, and <span class="RktVar">exp-alias</span> is a symbol:</div></p><ul><li><p><span class="RktSym">h-lam</span>: lambda expression</p></li><li><p><span class="RktSym">heap-only</span>: heap expressions: constant, boolean, lambda, cons</p></li><li><p><span class="RktSym">non-lambda-heap</span>: any names from <span class="RktSym">heap-only</span> except lambda</p></li><li><p><span class="RktSym">any-but-lambda</span>: any names from <span class="RktVar">len</span> but lambda</p></li><li><p><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/misc..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span>: any names from <span class="RktVar">len</span></p></li></ul><p><div class="SIntrapara">Output is a variable randomly chosen and associate hash table of expression name.</div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash-ref-rdm-var</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">h2v</span><span class="hspace">&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span>[<span class="RktVar">proc-failure</span>]<span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">h2v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">proc-failure</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/Function_Contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/exns.html#(def._((quote._~23~25kernel)._error))" class="RktValLink" pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"no element in corresponding variable set\n"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Choose variable for given expression name <span class="RktVar">exp-name</span>. Run <span class="RktVar">proc-failure</span> if there is no variable available in <span class="RktVar">h2v</span>.</div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">init-ht-hnm2var</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">len</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">len</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span></td></tr></table></div><div class="SIntrapara">Initialize/produce a new hashtable that maps each expression names in <span class="RktPn">(</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-c</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-b</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-lam</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-cons</span><span class="RktPn">)</span> to empty sets</div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">init-exp-hash-w-param</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">len</span><span class="hspace">&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span><span class="RktVar">var-sym</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">len</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var-sym</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr></table></div><div class="SIntrapara">Initialize hashtable of heap-values with a single input variable <span class="RktVar">var-sym</span> of element in <span class="RktPn">(</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-c</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-b</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-lam</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-cons</span><span class="RktPn">)</span></div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">put-in-ht</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span><span class="RktVar">var-sym</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var-sym</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr></table></div><div class="SIntrapara"><span class="RktVar">ht</span> is a hashtable from expression to set of variables.
 This produces a new hashtable with a key <span class="RktVar">exp-name</span> and value that is a form of set with <span class="RktVar">var-sym</span> inserted</div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">get-exp-name-from-ht</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span><span class="RktVar">varsym</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">varsym</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr></table></div><div class="SIntrapara">Outputs expression name which associates to variable <span class="RktVar">varsym</span>. If there is no expression name whose associate set doesn&rsquo;t contain <span class="RktVar">varsym</span>, it returns <span class="RktVal">#f</span>.</div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">gen-exp</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-num</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-depth</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">exp-name</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">hnm2var</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">var2hnm</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-expname</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-hval</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:option</span><span class="hspace">&nbsp;</span><span class="RktVar">position</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">st-exp?</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-num</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-depth</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hnm2var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var2hnm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-expname</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-hval</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">position</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">in-exp</span></td></tr></table></div><div class="SIntrapara">Takes <span class="RktVar">current-num</span> as current count of variables, <span class="RktVar">exp-name</span> as name of expression to generate,
      <span class="RktVar">current-depth</span> as a value saying the distance from mainstream flow of expression tree,
      <span class="RktVar">exp-name</span> as expression name given either explicitly. <span class="RktSym"><span class="badlink"><span class="RktValLink">gen-random-exp</span></span></span> generates this in random and use this function,
      <span class="RktVar">hnm2var</span>, <span class="RktVar">var2hnm</span> as hash tables for name to set of variables, for variable to expression name respectively,
      <span class="RktVar">l-expname</span>, <span class="RktVar">l-hval</span> as lists as defined in <span class="RktSym"><span class="badlink"><span class="RktValLink">gen-prog</span></span></span>,
      <span class="RktVar">position</span>, as optional argument saying position of current code generation such as <span class="RktVal">'</span><span class="RktVal">top</span>, <span class="RktVal">'</span><span class="RktVal">in-exp</span>, and <span class="RktVal">'</span><span class="RktVal">in-lambda</span>.
      As examples of <span class="RktVar">position</span>, <span class="RktVal">'</span><span class="RktVal">top</span> means the expression occurs in top level(tree main flow), <span class="RktVal">'</span><span class="RktVal">in-exp</span>, in expression (in <span class="RktSym">M</span> or (if b <span class="RktSym">M</span> <span class="RktSym">M</span>)), and <span class="RktVal">'</span><span class="RktVal">in-lambda</span> in lambda definition (&#955;x. M), respectively.
      This function uses the following nested function that generates associated code and new values for variable counting.
      </div><div class="SIntrapara"><ul><li><p><span class="RktSym">gen-h-c</span>: generates random constant smaller than <span class="RktSym">VAR_MAX</span>.</p></li><li><p><span class="RktSym">gen-h-b</span>: generates either 0 or 1.</p></li><li><p><span class="RktSym">gen-h-lam</span>: generates a single simbol as a parameter and a body of the function using <span class="RktSym"><span class="badlink"><span class="RktValLink">gen-super-term</span></span></span>. The hash tables <span class="RktVar">hnm2var</span> and <span class="RktVar">var2hnm</span> are updated by the parameter and a new term as the body of function.</p></li><li><p><span class="RktSym">gen-h-cons</span>: randomly pick two values from two hash tables in arguments with their names. lambda is excluded for the choice of variable.</p></li><li><p><span class="RktSym">gen-car</span>, <span class="RktSym">gen-cdr</span>: a cons form was picked from hash tables and the corresponding variable (car, cdr) are picked from the cons form.</p></li><li><p><span class="RktSym">gen-if</span>: boolean variable is chosen from hash tables and two terms are generated by <span class="RktSym"><span class="badlink"><span class="RktValLink">gen-super-term</span></span></span>.</p></li><li><p><span class="RktSym">gen-app</span>: randomly pick a lambda from hash tables with type information for the parameter and range of the function. pick randomly variable for the type from hash tables uses the type of range as type of expression.</p></li></ul></div><div class="SIntrapara">Finally the term <span class="RktSym">M</span> is generated from <span class="RktSym"><span class="badlink"><span class="RktValLink">gen-super-term</span></span></span>.</div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">gen-random-exp</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-num</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-depth</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">hnm2var</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">var2hnm</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-expname</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-hval</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:option</span><span class="hspace">&nbsp;</span><span class="RktVar">position</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">st-exp?</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-num</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-depth</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hnm2var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var2hnm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-expname</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-hval</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">position</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">in-exp</span></td></tr></table></div><div class="SIntrapara">Outputs the same thing as <span class="RktSym"><span class="badlink"><span class="RktValLink">gen-exp</span></span></span>, but it creates expression name by randomly choosing
                          from <span class="RktVar">l-expname</span>. <span class="RktSym">option</span> tag defines the policy of the
                          choice depending on the location of current expression in code.
                          </div><div class="SIntrapara"><ul><li><p><span class="RktVal">'</span><span class="RktVal">top</span>: in first term: The body of term <span class="RktSym">M</span>.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">in-exp</span>: in expression: bounded to a variable</p></li><li><p><span class="RktVal">'</span><span class="RktVal">in-lambda</span>: in the body of lambda expression</p></li><li><p><span class="RktVal">'</span><span class="RktVal">var-term</span>: in top level</p></li></ul></div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">proc-init-constant</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">num-var</span><span class="hspace">&nbsp;</span><span class="RktVar">hnm2var</span><span class="hspace">&nbsp;</span><span class="RktVar">var2hnm</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">num-var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hnm2var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var2hnm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr></table></div><div class="SIntrapara">Creates an initial code made out of constant values as many as <span class="RktVar">num-var</span>. Register them in output hashtables.</div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">final-term-closing</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">code-before</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">hnm2var</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">var2hnm</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">code-before</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hnm2var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var2hnm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr></table></div><div class="SIntrapara">Generates a string which is a variable defined previously and closing parenthesis as many as opened in the code.</div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">gen-a-init-bindexp</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">exp-name</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-prv-var</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">h2v</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">v2h</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">num-var</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-prv-var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">h2v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v2h</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">num-var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr></table></div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">gen-super-term</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">code</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-num</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-depth</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">hnm2var</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">var2hnm</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-expname</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-hval</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:option</span><span class="hspace">&nbsp;</span><span class="RktVar">position</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-num</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-depth</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hnm2var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var2hnm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash~3f))" class="RktValLink" pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-expname</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-hval</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">position</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">top</span></td></tr></table></div><div class="SIntrapara">Produces example code and appends to the end of <span class="RktVar">code</span>.
This read global variable <span class="RktSym">init-term-var</span> and <span class="RktSym">VAR_MAX</span> and generate as many variables as the number
of them doesn&rsquo;t exceed the maximum.</div></p><p><span class="RktVar">current-depth</span> represents the distance to main stream of program tree, which is counted by the number of bound variable in between term and main stream, for example,
for term <span class="RktSym">M</span>, current-depth <span class="RktSym">cd</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktSym">M:</span><span class="stt"> </span><span class="RktSym">cd=0</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym">&#955;x</span><span class="stt"> </span><span class="RktSym">M</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym">cd=1</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">x</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="stt"> </span><span class="RktSym">b</span><span class="stt"> </span><span class="RktSym">M1</span><span class="stt"> </span><span class="RktSym">M2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym">cd</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">M1</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">=1</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktSym">cd</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">M2</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3d))" class="RktValLink" pltdoc="x">=</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/generic-numbers.html#(def._((quote._~23~25kernel)._add1))" class="RktValLink" pltdoc="x">add1</a></span><span class="stt"> </span><span class="RktSym">cd</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">M1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">y</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">&#955;x</span><span class="stt"> </span><span class="RktSym">M1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">M2</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym">cd</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">M2</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">=1</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym">&#955;x</span><span class="stt"> </span><span class="RktSym">M1</span><span class="RktPn">)</span></p><p>Output contains the final variable name as a symbol.</p><p><span class="RktVar">position</span> is where the bounded variable is found which is either</p><p><div class="SIntrapara"><ul><li><p><span class="RktVal">'</span><span class="RktVal">top</span>: in first term: The body of term <span class="RktSym">M</span>.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">in-exp</span>: in expression: bounded to a variable</p></li><li><p><span class="RktVal">'</span><span class="RktVal">in-lambda</span>: in the body of lambda expression</p></li><li><p><span class="RktVal">'</span><span class="RktVal">var-term</span>: in top level</p></li></ul></div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">gen-prog</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-num</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-depth</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-expname</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-hval</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">out-filename</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-num</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-depth</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-expname</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-hval</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out-filename</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr></table></div><div class="SIntrapara">Produce a racket code following target grammar under the limit on number of variables, depth of structure of code.
Currently, <span class="RktSym">lst-exp-name</span> is a list <span class="RktPn">(</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-c</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-b</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-lam</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-cons</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">car</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">cdr</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">if</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">app</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">term</span><span class="RktPn">)</span>
and <span class="RktVar">l-hval</span> is  <span class="RktPn">(</span><span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-c</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-b</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-lam</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-cons</span><span class="RktPn">)</span>. Total number of variable is defined as a global variable <span class="RktSym">VAR_MAX</span>, and
it needs to be greather than <span class="RktSym">init-num-var</span></div></p><p>This function calls <span class="RktSym"><span class="badlink"><span class="RktValLink">gen-super-term</span></span></span> for generating actual body of code and appends it with header portion of racket program which is about language declaration,
<span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span> and <span class="RktSym"><a href="file:///home/u0332192/local/racket/share/racket/doc/reference/require.html#(form._((lib._racket/private/base..rkt)._provide))" class="RktStxLink" pltdoc="x">provide</a></span> forms</p></div></div><div id="contextindicator">&nbsp;</div></body></html>