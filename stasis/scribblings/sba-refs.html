<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>Set-based static analysis of Racket programs</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="racket.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" pltdoc="x">Set-<wbr></wbr>based static analysis of Racket programs</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#(part._run)" class="tocviewlink" pltdoc="x">Execution</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#(part._const)" class="tocviewlink" pltdoc="x">Generation of constraints</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#(part._cs)" class="tocviewlink" pltdoc="x">Constraints Solver</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#(part._input)" class="tocviewlink" pltdoc="x">Random generation of input program</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#(part._run)" class="tocsubseclink" pltdoc="x">Execution</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#(part._const)" class="tocsubseclink" pltdoc="x">Generation of constraints</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#(part._.Alpha_.Conversion)" class="tocsubseclink" pltdoc="x">Alpha Conversion</a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#(part._.A-.Normal_.Form)" class="tocsubseclink" pltdoc="x">A-<wbr></wbr>Normal Form</a></td></tr><tr><td><span class="tocsublinknumber">2.3<tt>&nbsp;</tt></span><a href="#(part._.Constraint_.Generation)" class="tocsubseclink" pltdoc="x">Constraint Generation</a></td></tr><tr><td><span class="tocsublinknumber">2.4<tt>&nbsp;</tt></span><a href="#(part._.Common_procedures)" class="tocsubseclink" pltdoc="x">Common procedures</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#(part._cs)" class="tocsubseclink" pltdoc="x">Constraints Solver</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#(part._input)" class="tocsubseclink" pltdoc="x">Random generation of input program</a></td></tr><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#(part._.Example_programs)" class="tocsubseclink" pltdoc="x">Example programs</a></td></tr><tr><td><span class="tocsublinknumber">4.2<tt>&nbsp;</tt></span><a href="#(part._.Randomly_generated_programs)" class="tocsubseclink" pltdoc="x">Randomly generated programs</a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._st-exp))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">st-<wbr></wbr>exp</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._random-but))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">random-<wbr></wbr>but</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._pick-rdm-elt-from-list))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">pick-<wbr></wbr>rdm-<wbr></wbr>elt-<wbr></wbr>from-<wbr></wbr>list</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._pick-rdm-elt-from-set))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">pick-<wbr></wbr>rdm-<wbr></wbr>elt-<wbr></wbr>from-<wbr></wbr>set</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._hash-ref-rdm-exp-name))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">hash-<wbr></wbr>ref-<wbr></wbr>rdm-<wbr></wbr>exp-<wbr></wbr>name</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._hash-ref-rdm-var))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">hash-<wbr></wbr>ref-<wbr></wbr>rdm-<wbr></wbr>var</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._init-ht-hnm2var))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">init-<wbr></wbr>ht-<wbr></wbr>hnm2var</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._init-exp-hash-w-param))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">init-<wbr></wbr>exp-<wbr></wbr>hash-<wbr></wbr>w-<wbr></wbr>param</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._put-in-ht))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">put-<wbr></wbr>in-<wbr></wbr>ht</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._get-exp-name-from-ht))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">get-<wbr></wbr>exp-<wbr></wbr>name-<wbr></wbr>from-<wbr></wbr>ht</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._gen-exp))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">gen-<wbr></wbr>exp</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._gen-random-exp))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">gen-<wbr></wbr>random-<wbr></wbr>exp</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._proc-init-constant))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">proc-<wbr></wbr>init-<wbr></wbr>constant</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._final-term-closing))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">final-<wbr></wbr>term-<wbr></wbr>closing</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._gen-a-init-bindexp))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">gen-<wbr></wbr>a-<wbr></wbr>init-<wbr></wbr>bindexp</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._gen-super-term))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">gen-<wbr></wbr>super-<wbr></wbr>term</span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._input-progs/ex-code-gen..rkt)._gen-prog))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">gen-<wbr></wbr>prog</span></span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">Version: 5.3.1</span></div><h2><a name="(part._.Set-based_static_analysis_of_.Racket_programs)"></a>Set-based static analysis of Racket programs</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Seungkeol Choe &lt;<a href="mailto:skchoe@cs.utah.edu">skchoe@cs.utah.edu</a>&gt;</p></span></div><p><div class="SIntrapara"></div><div class="SIntrapara"><table cellspacing="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#(part._run)" class="toptoclink" pltdoc="x">1<span class="hspace">&nbsp;</span>Execution</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#(part._const)" class="toptoclink" pltdoc="x">2<span class="hspace">&nbsp;</span>Generation of constraints</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#(part._.Alpha_.Conversion)" class="toclink" pltdoc="x">2.1<span class="hspace">&nbsp;</span>Alpha Conversion</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#(part._.A-.Normal_.Form)" class="toclink" pltdoc="x">2.2<span class="hspace">&nbsp;</span>A-Normal Form</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#(part._.Constraint_.Generation)" class="toclink" pltdoc="x">2.3<span class="hspace">&nbsp;</span>Constraint Generation</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#(part._.Common_procedures)" class="toclink" pltdoc="x">2.4<span class="hspace">&nbsp;</span>Common procedures</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#(part._cs)" class="toptoclink" pltdoc="x">3<span class="hspace">&nbsp;</span>Constraints Solver</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#(part._input)" class="toptoclink" pltdoc="x">4<span class="hspace">&nbsp;</span>Random generation of input program</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#(part._.Example_programs)" class="toclink" pltdoc="x">4.1<span class="hspace">&nbsp;</span>Example programs</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#(part._.Randomly_generated_programs)" class="toclink" pltdoc="x">4.2<span class="hspace">&nbsp;</span>Randomly generated programs</a></p></td></tr></table></div></p><p>This scribble document describes mainly the prototypes of functions on constraints generation, example program generations.</p><h3>1<tt>&nbsp;</tt><a name="(part._run)"></a>Execution</h3><p>Run!
In this section, write a pure scribble document that explains the commands and parameters.</p><h3>2<tt>&nbsp;</tt><a name="(part._const)"></a>Generation of constraints</h3><h4>2.1<tt>&nbsp;</tt><a name="(part._.Alpha_.Conversion)"></a>Alpha Conversion</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">convert-no-dupvar</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">prog</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">prog</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">For given input symbol made of long string, this produces a symbol representing a program without dup let-bindings.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">dup-remove-kit?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">drk</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">drk</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">dup-remove-kit?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the state of <span class="RktVar">drk</span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">echo-dup-remove-kit</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">drk</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">void?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">drk</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">dup-remove-kit?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">tests your dup-remove-kit struct by echoing its fields <span class="RktSym">dic-vars</span>, <span class="RktSym"><span class="badlink"><span class="RktValLink">prog</span></span></span>, and each element of list of variable <span class="RktSym">vars-lov</span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">once-introduced?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">boolean?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">produces <span class="RktSym"><span class="badlink"><span class="RktValLink">true</span></span></span> if key exists and the value is not <span class="RktSym"><span class="badlink"><span class="RktValLink">false</span></span></span></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">conv-exists?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">boolean?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">proces <span class="RktSym"><span class="badlink"><span class="RktValLink">true</span></span></span> if key exists and the value is a symbol</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">introduced-or-converted?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ght</span><span class="hspace">&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">boolean?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ght</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">produces <span class="RktSym"><span class="badlink"><span class="RktValLink">true</span></span></span> if <span class="RktVar">v</span> is either introduced once in <span class="RktVar">ght</span> or converted variable exists in <span class="RktVar">ht</span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">insert-new-var-at-old-var</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">l-vars</span><span class="hspace">&nbsp;</span><span class="RktVar">var</span><span class="hspace">&nbsp;</span><span class="RktVar">pos</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-vars</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pos</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">convert-term</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">drk</span><span class="hspace">&nbsp;</span><span class="RktVar">ht-rename</span><span class="hspace">&nbsp;</span><span class="RktVar">pos</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><span class="badlink"><span class="RktValLink">dup-remove-kit?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">drk</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">dup-remove-kit?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ht-rename</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pos</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">convert-exp</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">dup-remove-kit</span><span class="hspace">&nbsp;</span><span class="RktVar">ht-rename</span><span class="hspace">&nbsp;</span><span class="RktVar">pos</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">dup-remove-kit</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">dup-remove-kit?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ht-rename</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pos</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ</div></p><h4>2.2<tt>&nbsp;</tt><a name="(part._.A-.Normal_.Form)"></a>A-Normal Form</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash-table-update</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span><span class="RktVar">updater</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">and/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">immutable?</span></span></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">and/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">immutable?</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">updater</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Outputs new hash table with all values are updated by <span class="RktVar">updater</span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">add1-hash</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">and/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">immutable?</span></span></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">and/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">immutable?</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Outputs new hash whose value for <span class="RktVar">x</span> is zero if the value associated <span class="RktVar">x</span> is boolean or one increased.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">zero-hash</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">and/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">immutable?</span></span></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">and/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">immutable?</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Outputs new hash whose value for <span class="RktVar">x</span> is zero.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">new-lambda</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">and/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">immutable?</span></span></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">and/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">immutable?</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Outputs new hash XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol-&gt;deBruijn-index</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">and/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">immutable?</span></span></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">and/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">immutable?</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Outputs the value associated to key <span class="RktVar">x</span> if it is one of keys from hash <span class="RktVar">ht</span>. Output <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">new-box</span></span></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">Unknown</span><span class="RktPn">)</span> otherwise. Output <span class="RktVar">x</span> if <span class="RktVar">x</span> is not a symbol.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol-&gt;distance</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;*</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">or/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">#:void</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">box?</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara"><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol-&gt;distance</span></span></span> is an alias of a procedure currently used as a transformer of
 input file to transformed program with unique variable names. Currrently,
 distance from initial variable is use for the uniquness property.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">convert-to-deBruijn</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">prog</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">prog</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Outputs a new program with deBruijn index form from a symbol of input program.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">convert-to-distance-form</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">prog</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">prog</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Outputs a new program with index defined by the distance to let-bindings from a symbol of input program.</div></p><h4>2.3<tt>&nbsp;</tt><a name="(part._.Constraint_.Generation)"></a>Constraint Generation</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">gif-stream?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">boolean?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">v</span> is a GIF stream created by
        <span class="RktSym">gif-write</span>, <span class="RktVal">#f</span> otherwise.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">image-ready-gif-stream?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">boolean?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">v</span> is a GIF stream that is not in
        <span class="RktVal">'</span><span class="RktVal">done</span> mode, <span class="RktVal">#f</span> otherwise.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">image-or-control-ready-gif-stream?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">boolean?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">v</span> is a GIF stream that is in
        <span class="RktVal">'</span><span class="RktVal">init</span> or <span class="RktVal">'</span><span class="RktVal">image-or-control</span> mode, <span class="RktVal">#f</span>
        otherwise.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">empty-gif-stream?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">boolean?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">v</span> is a GIF stream that in
        <span class="RktVal">'</span><span class="RktVal">init</span> mode, <span class="RktVal">#f</span> otherwise.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">gif-colormap?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">boolean?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">v</span> represets a colormap,
        <span class="RktVal">#f</span> otherwise.  A colormap is a list whose size is a power
        of <span style="font-style: italic"></span>2<span style="font-style: italic"></span> between <span style="font-style: italic"></span>2<span style="font-style: italic"></span><span style="vertical-align: super; font-size: 80%"><span style="font-style: italic"></span>1<span style="font-style: italic"></span></span><span style="font-style: italic"></span> and <span style="font-style: italic"></span>2<span style="font-style: italic"></span><span style="vertical-align: super; font-size: 80%"><span style="font-style: italic"></span>8<span style="font-style: italic"></span></span><span style="font-style: italic"></span>, and whose elements
        are vectors of size 3 containing colors (i.e., exact integers
                                                       between <span style="font-style: italic"></span>0<span style="font-style: italic"></span> and <span style="font-style: italic"></span>2<span style="font-style: italic"></span>5<span style="font-style: italic"></span>5<span style="font-style: italic"></span> inclusive).</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">color?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">boolean?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">The same as <span class="RktSym"><span class="badlink"><span class="RktValLink">byte?</span></span></span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">dimension?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">boolean?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">any/c</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">v</span> is an exact integer between
        <span class="RktVal">0</span> and <span class="RktVal">65535</span> inclusive, <span class="RktVal">#f</span>
        otherwise.</div></p><h4>2.4<tt>&nbsp;</tt><a name="(part._.Common_procedures)"></a>Common procedures</h4><h3>3<tt>&nbsp;</tt><a name="(part._cs)"></a>Constraints Solver</h3><p>In this section, describe CUDA code in pure scribble document.
Find way to write down C code in scribble with its contracts</p><h3>4<tt>&nbsp;</tt><a name="(part._input)"></a><a name="(mod-path._input-progs/ex-code-gen)"></a>Random generation of input program</h3><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">require</span></span></span><span class="stt"> </span><a href="#(mod-path._input-progs/ex-code-gen)" class="RktModLink" pltdoc="x"><span class="RktSym">input-progs/ex-code-gen</span></a><span class="RktPn">)</span></td></tr></table></p><h4>4.1<tt>&nbsp;</tt><a name="(part._.Example_programs)"></a>Example programs</h4><p>The <font class="badlink"><span class="RktModLink"><span class="RktSym">input-progs/input-progs</span></span></font>, <font class="badlink"><span class="RktModLink"><span class="RktSym">input-progs/input-progs-forseq</span></span></font> contain example programs with the result of set-values for variables for selective examples.
As an initial test, contained examples has just simple valued functions and its applications.</p><h4>4.2<tt>&nbsp;</tt><a name="(part._.Randomly_generated_programs)"></a>Randomly generated programs</h4><p>The <a href="#(mod-path._input-progs/ex-code-gen)" class="RktModLink" pltdoc="x"><span class="RktSym">input-progs/ex-code-gen</span></a> library provides routines for generating input program of sba-syntax by number of variables as input parameter</p><p>There are restrictions and requirements for example programs from the random generation:</p><ul><li><p>Uniformly distributed generation: the generation needs to be fairly diverse in choosing expression.
For this the choice if expression uses the distribution property of <span class="RktVal">'</span><span class="RktVal">random</span> in the pool of expressions named by lst-expressions
defined as <span class="RktPn">(</span><span class="RktSym">list</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-c</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-b</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-lam</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-cons</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">if</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">app</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">term</span><span class="RktPn">)</span> by a fucnction called <span class="RktVal">'</span><span class="RktVal">pick-rdm-elt-from-list</span></p></li><li><p>Solvability of constraints equations: In constraint solving stage, the propagation of values newly figured out need to reach eventuall to the values in heap.
            To hold this requirement, the generation function nput heap values from the top level enough : first 20% of variable is set to be heap member.</p></li><li><p>Simplicity of exmaples: This input generation does not allow defining a new function on the body of existing function definition.</p></li><li><p>Function is not entirely a first class value: function as an argument is not allowed.</p></li><li><p>Restriction on element of cons: functions as cons element is not allowed.</p></li><li><p>A function producing a definition of function is not allowed.</p></li></ul><p>Here is how to run it:</p><p>By redefining the forms in the code ex-code-gen.rkt,</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">VAR_MAX</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">expt</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">init-num-var</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span></td></tr></table></blockquote><p>The new code will have VAR_MAX variables. The first <span class="RktSym">init-num-var</span> variable decide how many constant are initially given.
Then the following code executes code genearation:</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">let*</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">lst-exp-name</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">h-c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">h-b</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">h-lam</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">h-cons</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">car</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">cdr</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">if</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">app</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">term</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">lst-hval</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">h-c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">h-b</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">h-lam</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">h-cons</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">num-var</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">num-depth</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">gen-prog</span><span class="hspace">&nbsp;</span><span class="RktSym">num-var</span><span class="hspace">&nbsp;</span><span class="RktSym">num-depth</span><span class="hspace">&nbsp;</span><span class="RktSym">lst-exp-name</span><span class="hspace">&nbsp;</span><span class="RktSym">lst-hval</span><span class="hspace">&nbsp;</span><span class="RktVal">"input-prog-gen_10_10.rkt"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p><span class="RktSym">lst-exp-name</span> is alist of symbols which representing expression names. There will be a variable which will be bounded to each of expression randomly genearated by the nemes.
<span class="RktSym">lst-hval</span> is a list which is a collection of names of heap variable.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._input-progs/ex-code-gen..rkt)._st-exp))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">st-exp</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">struct/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">st-exp</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">or/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara"><span class="RktSym"><span class="badlink"><span class="RktValLink">st-exp</span></span></span> is a struct having two fields: <span class="RktSym">name</span>, <span class="RktSym">form</span>.
 <span class="RktSym">name</span> is a expression name of heap values: constant, boolean, lambda, cons.
 <span class="RktSym">form</span> is either simple symbol representing constant or boolean or cons of <span class="RktSym"><span class="badlink"><span class="RktValLink">st-exp</span></span></span> or domain and range of lambda which is of form <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">st-exp?</span></span></span><span class="stt"> </span><span class="RktSym"><span class="badlink"><span class="RktValLink">st-exp?</span></span></span><span class="RktPn">)</span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._random-but))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">random-but</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">N</span><span class="hspace">&nbsp;</span>[<span class="RktPn">#:except</span><span class="hspace">&nbsp;</span><span class="RktVar">l-except</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">N</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-except</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Outputs random number which are not a member of <span class="RktVar">l-except</span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._pick-rdm-elt-from-list))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">pick-rdm-elt-from-list</span></span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">lst</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:except</span><span class="hspace">&nbsp;</span><span class="RktVar">l-except</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-except</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Outputs element from list <span class="RktVar">lst</span> by random selection except elments of indices in <span class="RktVar">l-except</span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._pick-rdm-elt-from-set))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">pick-rdm-elt-from-set</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">st</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">st</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">set?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Outputs element from set <span class="RktVar">st</span> by random selection.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._hash-ref-rdm-exp-name))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">hash-ref-rdm-exp-name</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">h2v</span><span class="hspace">&nbsp;</span><span class="RktVar">v2h</span><span class="hspace">&nbsp;</span><span class="RktVar">len</span><span class="hspace">&nbsp;</span><span class="RktVar">exp-alias</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">h2v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v2h</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">len</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exp-alias</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara"><span class="RktVar">h2v</span> is a hashtable which maps expression name to set of variables,
 <span class="RktVar">v2h</span> is a hashtable which maps varaible to expression name defined by let-binding,
 <span class="RktVar">len</span> is a list of any expression names or heap values, and <span class="RktVar">exp-alias</span> is a symbol:</div></p><ul><li><p><span class="RktSym">h-lam</span>: lambda expression</p></li><li><p><span class="RktSym">heap-only</span>: heap expressions: constant, boolean, lambda, cons</p></li><li><p><span class="RktSym">non-lambda-heap</span>: any names from <span class="RktSym">heap-only</span> except lambda</p></li><li><p><span class="RktSym">any-but-lambda</span>: any names from <span class="RktVar">len</span> but lambda</p></li><li><p><span class="RktSym"><span class="badlink"><span class="RktValLink">any</span></span></span>: any names from <span class="RktVar">len</span></p></li></ul><p><div class="SIntrapara">Output is a variable randomly chosen and associate hash table of expression name.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._hash-ref-rdm-var))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">hash-ref-rdm-var</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">h2v</span><span class="hspace">&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span>[<span class="RktVar">proc-failure</span>]<span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">or/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">void?</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">h2v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">proc-failure</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">void?</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">&#955;</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">error</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">"no element in corresponding variable set\n"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Choose variable for given expression name <span class="RktVar">exp-name</span>. Run <span class="RktVar">proc-failure</span> if there is no variable available in <span class="RktVar">h2v</span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._init-ht-hnm2var))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">init-ht-hnm2var</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">len</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">len</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Initialize/produce a new hashtable that maps each expression names in <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list</span></span></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-c</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-b</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-lam</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-cons</span><span class="RktPn">)</span> to empty sets</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._init-exp-hash-w-param))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">init-exp-hash-w-param</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">len</span><span class="hspace">&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span><span class="RktVar">var-sym</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">len</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var-sym</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Initialize hashtable of heap-values with a single input variable <span class="RktVar">var-sym</span> of element in <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list</span></span></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-c</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-b</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-lam</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-cons</span><span class="RktPn">)</span></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._put-in-ht))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">put-in-ht</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span><span class="RktVar">var-sym</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var-sym</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara"><span class="RktVar">ht</span> is a hashtable from expression to set of variables.
 This produces a new hashtable with a key <span class="RktVar">exp-name</span> and value that is a form of set with <span class="RktVar">var-sym</span> inserted</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._get-exp-name-from-ht))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">get-exp-name-from-ht</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span><span class="RktVar">varsym</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">or/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ht</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">varsym</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Outputs expression name which associates to variable <span class="RktVar">varsym</span>. If there is no expression name whose associate set doesn&rsquo;t contain <span class="RktVar">varsym</span>, it returns <span class="RktVal">#f</span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._gen-exp))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">gen-exp</span></span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-num</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-depth</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">exp-name</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">hnm2var</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">var2hnm</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-expname</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-hval</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:option</span><span class="hspace">&nbsp;</span><span class="RktVar">position</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><span class="badlink"><span class="RktValLink">string?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">st-exp?</span></span></span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-num</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-depth</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hnm2var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var2hnm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-expname</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-hval</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">position</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">in-exp</span></td></tr></table></blockquote></div><div class="SIntrapara">Takes <span class="RktVar">current-num</span> as current count of variables, <span class="RktVar">exp-name</span> as name of expression to generate,
      <span class="RktVar">current-depth</span> as a value saying the distance from mainstream flow of expression tree,
      <span class="RktVar">exp-name</span> as expression name given either explicitly. <span class="RktSym"><span class="badlink"><span class="RktValLink">gen-random-exp</span></span></span> generates this in random and use this function,
      <span class="RktVar">hnm2var</span>, <span class="RktVar">var2hnm</span> as hash tables for name to set of variables, for variable to expression name respectively,
      <span class="RktVar">l-expname</span>, <span class="RktVar">l-hval</span> as lists as defined in <span class="RktSym"><span class="badlink"><span class="RktValLink">gen-prog</span></span></span>,
      <span class="RktVar">position</span>, as optional argument saying position of current code generation such as <span class="RktVal">'</span><span class="RktVal">top</span>, <span class="RktVal">'</span><span class="RktVal">in-exp</span>, and <span class="RktVal">'</span><span class="RktVal">in-lambda</span>.
      As examples of <span class="RktVar">position</span>, <span class="RktVal">'</span><span class="RktVal">top</span> means the expression occurs in top level(tree main flow), <span class="RktVal">'</span><span class="RktVal">in-exp</span>, in expression (in <span class="RktSym">M</span> or (if b <span class="RktSym">M</span> <span class="RktSym">M</span>)), and <span class="RktVal">'</span><span class="RktVal">in-lambda</span> in lambda definition (&#955;x. M), respectively.
      This function uses the following nested function that generates associated code and new values for variable counting.
      </div><div class="SIntrapara"><ul><li><p><span class="RktSym">gen-h-c</span>: generates random constant smaller than <span class="RktSym"><span class="badlink"><span class="RktValLink">VAR_MAX</span></span></span>.</p></li><li><p><span class="RktSym">gen-h-b</span>: generates either 0 or 1.</p></li><li><p><span class="RktSym">gen-h-lam</span>: generates a single simbol as a parameter and a body of the function using <span class="RktSym"><span class="badlink"><span class="RktValLink">gen-super-term</span></span></span>. The hash tables <span class="RktVar">hnm2var</span> and <span class="RktVar">var2hnm</span> are updated by the parameter and a new term as the body of function.</p></li><li><p><span class="RktSym">gen-h-cons</span>: randomly pick two values from two hash tables in arguments with their names. lambda is excluded for the choice of variable.</p></li><li><p><span class="RktSym">gen-car</span>, <span class="RktSym">gen-cdr</span>: a cons form was picked from hash tables and the corresponding variable (car, cdr) are picked from the cons form.</p></li><li><p><span class="RktSym">gen-if</span>: boolean variable is chosen from hash tables and two terms are generated by <span class="RktSym"><span class="badlink"><span class="RktValLink">gen-super-term</span></span></span>.</p></li><li><p><span class="RktSym">gen-app</span>: randomly pick a lambda from hash tables with type information for the parameter and range of the function. pick randomly variable for the type from hash tables uses the type of range as type of expression.</p></li></ul></div><div class="SIntrapara">Finally the term <span class="RktSym">M</span> is generated from <span class="RktSym"><span class="badlink"><span class="RktValLink">gen-super-term</span></span></span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._gen-random-exp))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">gen-random-exp</span></span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-num</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-depth</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">hnm2var</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">var2hnm</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-expname</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-hval</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:option</span><span class="hspace">&nbsp;</span><span class="RktVar">position</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><span class="badlink"><span class="RktValLink">string?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">st-exp?</span></span></span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-num</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-depth</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hnm2var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var2hnm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-expname</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-hval</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">position</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">in-exp</span></td></tr></table></blockquote></div><div class="SIntrapara">Outputs the same thing as <span class="RktSym"><span class="badlink"><span class="RktValLink">gen-exp</span></span></span>, but it creates expression name by randomly choosing
                          from <span class="RktVar">l-expname</span>. <span class="RktSym">option</span> tag defines the policy of the
                          choice depending on the location of current expression in code.
                          </div><div class="SIntrapara"><ul><li><p><span class="RktVal">'</span><span class="RktVal">top</span>: in first term: The body of term <span class="RktSym">M</span>.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">in-exp</span>: in expression: bounded to a variable</p></li><li><p><span class="RktVal">'</span><span class="RktVal">in-lambda</span>: in the body of lambda expression</p></li><li><p><span class="RktVal">'</span><span class="RktVal">var-term</span>: in top level</p></li></ul></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._proc-init-constant))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">proc-init-constant</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">num-var</span><span class="hspace">&nbsp;</span><span class="RktVar">hnm2var</span><span class="hspace">&nbsp;</span><span class="RktVar">var2hnm</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><span class="badlink"><span class="RktValLink">string?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">num-var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hnm2var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var2hnm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates an initial code made out of constant values as many as <span class="RktVar">num-var</span>. Register them in output hashtables.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._final-term-closing))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">final-term-closing</span></span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">code-before</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">hnm2var</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">var2hnm</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">string?</span></span></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">code-before</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">string?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hnm2var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var2hnm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Generates a string which is a variable defined previously and closing parenthesis as many as opened in the code.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._gen-a-init-bindexp))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">gen-a-init-bindexp</span></span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">exp-name</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-prv-var</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">h2v</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">v2h</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">num-var</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><span class="badlink"><span class="RktValLink">string?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exp-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-prv-var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">h2v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v2h</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">num-var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._gen-super-term))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">gen-super-term</span></span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">code</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-num</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-depth</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">hnm2var</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">var2hnm</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-expname</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-hval</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:option</span><span class="hspace">&nbsp;</span><span class="RktVar">position</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><span class="badlink"><span class="RktValLink">string?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">string?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-num</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-depth</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hnm2var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var2hnm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-expname</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-hval</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">position</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">symbol?</span></span></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">top</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces example code and appends to the end of <span class="RktVar">code</span>.
This read global variable <span class="RktSym">init-term-var</span> and <span class="RktSym"><span class="badlink"><span class="RktValLink">VAR_MAX</span></span></span> and generate as many variables as the number
of them doesn&rsquo;t exceed the maximum.</div></p><p><span class="RktVar">current-depth</span> represents the distance to main stream of program tree, which is counted by the number of bound variable in between term and main stream, for example,
for term <span class="RktSym">M</span>, current-depth <span class="RktSym">cd</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktSym">M:</span><span class="stt"> </span><span class="RktSym">cd=0</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym">&#955;x</span><span class="stt"> </span><span class="RktSym">M</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym">cd=1</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">let</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">x</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">if</span></span></span><span class="stt"> </span><span class="RktSym">b</span><span class="stt"> </span><span class="RktSym">M1</span><span class="stt"> </span><span class="RktSym">M2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym">cd</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">M1</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">=1</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktSym">cd</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">M2</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><span class="badlink"><span class="RktValLink">=</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">add1</span></span></span><span class="stt"> </span><span class="RktSym">cd</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">M1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">let</span></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">y</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">&#955;x</span><span class="stt"> </span><span class="RktSym">M1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">M2</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym">cd</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">M2</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">=1</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym">&#955;x</span><span class="stt"> </span><span class="RktSym">M1</span><span class="RktPn">)</span></p><p>Output contains the final variable name as a symbol.</p><p><span class="RktVar">position</span> is where the bounded variable is found which is either</p><p><div class="SIntrapara"><ul><li><p><span class="RktVal">'</span><span class="RktVal">top</span>: in first term: The body of term <span class="RktSym">M</span>.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">in-exp</span>: in expression: bounded to a variable</p></li><li><p><span class="RktVal">'</span><span class="RktVal">in-lambda</span>: in the body of lambda expression</p></li><li><p><span class="RktVal">'</span><span class="RktVal">var-term</span>: in top level</p></li></ul></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._input-progs/ex-code-gen..rkt)._gen-prog))"></a><span title="Provided from: input-progs/ex-code-gen"><span class="RktSym"><span class="badlink"><span class="RktValLink">gen-prog</span></span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-num</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">current-depth</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-expname</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">l-hval</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">out-filename</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">void?</span></span></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-num</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">current-depth</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">number?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-expname</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">l-hval</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out-filename</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">string?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Produce a racket code following target grammar under the limit on number of variables, depth of structure of code.
Currently, <span class="RktSym">lst-exp-name</span> is a list <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list</span></span></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-c</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-b</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-lam</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-cons</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">car</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">cdr</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">if</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">app</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">term</span><span class="RktPn">)</span>
and <span class="RktVar">l-hval</span> is  <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list</span></span></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-c</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-b</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-lam</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">h-cons</span><span class="RktPn">)</span>. Total number of variable is defined as a global variable <span class="RktSym"><span class="badlink"><span class="RktValLink">VAR_MAX</span></span></span>, and
it needs to be greather than <span class="RktSym"><span class="badlink"><span class="RktValLink">init-num-var</span></span></span></div></p><p>This function calls <span class="RktSym"><span class="badlink"><span class="RktValLink">gen-super-term</span></span></span> for generating actual body of code and appends it with header portion of racket program which is about language declaration,
<span class="RktSym"><span class="badlink"><span class="RktValLink">require</span></span></span> and <span class="RktSym"><span class="badlink"><span class="RktValLink">provide</span></span></span> forms</p></div></div><div id="contextindicator">&nbsp;</div></body></html>